{"version":3,"file":"main.js","mappings":"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","sources":["webpack://@dobuki/dok-schema/./node_modules/dok-file-utils/src/file-utils.js","webpack://@dobuki/dok-schema/./node_modules/dok-file-utils/src/image-loader.js","webpack://@dobuki/dok-schema/./node_modules/dok-file-utils/src/index.js","webpack://@dobuki/dok-schema/webpack/bootstrap","webpack://@dobuki/dok-schema/./src/processors/base/processor.ts","webpack://@dobuki/dok-schema/./src/processors/property-processor.ts","webpack://@dobuki/dok-schema/./src/processors/base/renderer.ts","webpack://@dobuki/dok-schema/./src/processors/base/div-renderer.ts","webpack://@dobuki/dok-schema/./src/processors/breadcrumbs-processor.ts","webpack://@dobuki/dok-schema/./src/processors/base/container-processor.ts","webpack://@dobuki/dok-schema/./src/processors/workspace-processor.ts","webpack://@dobuki/dok-schema/./src/processors/application-processor.ts","webpack://@dobuki/dok-schema/./src/processors/title-processor.ts","webpack://@dobuki/dok-schema/./src/processors/message-processor.ts","webpack://@dobuki/dok-schema/./src/core/registration.ts","webpack://@dobuki/dok-schema/./src/core/engine.ts","webpack://@dobuki/dok-schema/./src/index.ts"],"sourcesContent":["class FileUtils {\n    constructor(XMLHttpRequest) {\n        this.XMLHttpRequest = XMLHttpRequest || globalThis.XMLHttpRequest;\n        this.fileStock = {};\n    }\n\n    async preload(...urls) {\n        return Promise.all(urls.map(async url => {\n            return await this.load(url);\n        }));\n    }\n\n    async load(url, responseType) {\n        return !url ? Promise.resolve(null) : new Promise((resolve, reject) => {\n            const realResponseType = responseType || (url.match(/.(json)$/i) ? \"json\" : 'blob');\n            const tag = [url, realResponseType].join(\"|\");\n            if (this.fileStock[tag]) {\n                const { data, loaded, onLoadListeners } = this.fileStock[tag];\n                if (!loaded) {\n                    onLoadListeners.push(resolve);\n                } else {\n                    resolve(data);\n                }\n            } else {\n                const req = new this.XMLHttpRequest();\n                this.fileStock[tag] = {\n                    data: null,\n                    url,\n                    progress: 0,\n                    onLoadListeners: [],\n                };\n                req.open('GET', url);\n                req.responseType = realResponseType;\n\n                req.addEventListener('load', e => {\n                    if (req.status === 200) {\n                        const data = req.response;\n                        this.fileStock[tag].progress = 1;\n                        this.fileStock[tag].loaded = true;\n                        this.fileStock[tag].data = data;\n                        this.fileStock[tag].onLoadListeners.forEach(callback => callback(data));\n                        delete this.fileStock[tag].onLoadListeners;\n                        resolve(data);\n                    }\n                    else {\n                        reject(new Error(`Url could not load: ${url}`));\n                    }\n                });\n                req.addEventListener('error', e => {\n                    reject(new Error(\"Network Error\"));\n                });\n                req.addEventListener('progress', e => {\n                    this.fileStock[tag].progress = e.loaded / e.total;\n                });\n                req.send();\n            }\n        });\n    }\n}\n\nif (typeof module !== \"undefined\") {\n    module.exports = {\n        FileUtils,\n    };\n}\n","class ImageLoader {\n\tconstructor(preserve, XMLHttpRequest, Image) {\n\t\tthis.preserve = preserve || {};\n\t\tthis.XMLHttpRequest = XMLHttpRequest || globalThis.XMLHttpRequest;\n\t\tthis.Image = Image || globalThis.Image;\n\t\tthis.imageStock = {};\n\t}\n\n\tasync getBlobUrl(url) {\n\t\tawait this.loadImage(url);\n\t\treturn this.preserve[url] ? this.imageStock[url]?.img.src : null; \n\t}\n\n\tasync preloadImages(...urls) {\n\t\treturn Promise.all(urls.map(async url => {\n\t\t\treturn await this.loadImage(url);\n\t\t}));\n\t}\n\n\tasync loadImage(url) {\n\t\treturn !url ? Promise.resolve(null) : new Promise((resolve, reject) => {\n\t\t\tif (this.imageStock[url]) {\n\t\t\t\tconst { img, loaded, onLoadListeners } = this.imageStock[url];\n\t\t\t\tif (!loaded) {\n\t\t\t\t\tonLoadListeners.push(resolve);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(img);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t    const req = new this.XMLHttpRequest();\n\t\t\t    const img = new this.Image();\n\t\t\t    this.imageStock[url] = {\n\t\t\t    \timg,\n\t\t\t    \turl,\n\t\t\t    \tprogress: 0,\n\t\t\t    \tonLoadListeners: [],\n\t\t\t    };\n\t\t\t    req.open('GET', url);\n\t\t        req.responseType = 'blob';\n\n\t\t\t    req.addEventListener('load', e => {\n\t\t\t    \tif (req.status === 200) {\n\t\t\t\t\t\tif (url.match(/.(jpg|jpeg|png|gif)$/i)) {\n\t\t\t\t\t\t\tconst imageURL = URL.createObjectURL(req.response);\n\t\t\t\t\t\t\tconst { img } = this.imageStock[url];\n\t\t\t\t\t\t\timg.addEventListener(\"load\", () => {\n\t\t\t\t\t\t\t\tif (!this.preserve[url]) {\n\t\t\t\t\t\t\t\t\tURL.revokeObjectURL(imageURL);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.imageStock[url].progress = 1;\n\t\t\t\t\t\t\t\tthis.imageStock[url].loaded = true;\n\t\t\t\t\t\t\t\tconst listeners = this.imageStock[url].onLoadListeners;\n\t\t\t\t\t\t\t\tdelete this.imageStock[url].onLoadListeners;\n\t\t\t\t\t\t\t\tresolve(img);\n\t\t\t\t\t\t\t\tlisteners.forEach(callback => callback(img));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\timg.src = imageURL;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(new Error(\"Invalid image.\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treject(new Error(`Url could not load: ${url}`));\n\t\t\t\t\t}\n\t\t\t    });\n\t\t\t    req.addEventListener('error', e => {\n\t\t\t    \treject(new Error(\"Network Error\"));\n\t\t\t    });\n\t\t\t    req.addEventListener('progress', e => {\n\t\t\t    \tthis.imageStock[url].progress = e.loaded / e.total;\n\t\t\t    });\n\t\t\t\treq.send();\n\t\t\t}\n\t\t});\n\t}\n}\n\nif (typeof module !== \"undefined\") {\n\tmodule.exports = {\n    \tImageLoader,\n\t};\n}\n","const { FileUtils } = require(\"./file-utils\");\nconst { ImageLoader } = require(\"./image-loader\");\n\nmodule.exports = {\n    FileUtils,\n    ImageLoader,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport default class Processor {\n    onCreate(auxiliary, entity) {\n        return __awaiter(this, void 0, void 0, function* () {\n        });\n    }\n    onExit() {\n        return __awaiter(this, void 0, void 0, function* () {\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Processor from './base/processor';\nexport default class PropertyProcessor extends Processor {\n    constructor(name) {\n        super();\n        this.name = name;\n    }\n    process(property, entity) {\n        return __awaiter(this, void 0, void 0, function* () {\n            entity[this.name] = property;\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Processor from './processor';\nexport default class Renderer extends Processor {\n    constructor() {\n        super(...arguments);\n        this.active = false;\n        this.refresh = () => { };\n    }\n    process(auxiliary, entity) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.refresh = () => {\n                const keepRendering = this.render(auxiliary, entity);\n                if (this.active && keepRendering) {\n                    requestAnimationFrame(this.refresh);\n                }\n            };\n            if (typeof (auxiliary) !== \"object\" || !(auxiliary === null || auxiliary === void 0 ? void 0 : auxiliary.initiallyInactive)) {\n                this.setActive(true);\n            }\n        });\n    }\n    setActive(active) {\n        this.active = active;\n        if (this.active) {\n            requestAnimationFrame(this.refresh);\n        }\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Renderer from './renderer';\nexport default class DivRenderer extends Renderer {\n    constructor() {\n        super(...arguments);\n        this.div = document.createElement('div');\n    }\n    onCreate() {\n        return __awaiter(this, void 0, void 0, function* () {\n            document.body.appendChild(this.div);\n        });\n    }\n    onExit() {\n        return __awaiter(this, void 0, void 0, function* () {\n            document.body.removeChild(this.div);\n            this.setActive(false);\n        });\n    }\n    addLink(text, action) {\n        const line = this.div.appendChild(document.createElement(\"div\"));\n        line.style.color = action ? \"blue\" : \"\";\n        line.style.textDecoration = action ? \"underline\" : \"\";\n        line.style.cursor = action ? \"pointer\" : \"\";\n        if (action) {\n            line.addEventListener(\"mousedown\", action);\n        }\n        line.innerText = text;\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport DivRenderer from './base/div-renderer';\nexport default class BreadcrumbsProcessor extends DivRenderer {\n    onCreate() {\n        return __awaiter(this, void 0, void 0, function* () {\n            document.body.insertBefore(this.div, document.body.firstChild);\n        });\n    }\n    render(separator, entity) {\n        const entities = [];\n        for (let e = entity; e; e = e.parent) {\n            entities.unshift(e);\n        }\n        const div = this.div;\n        div.innerText = \"\";\n        div.style.display = \"flex\";\n        div.style.flexDirection = \"row\";\n        for (let i = 0; i < entities.length; i++) {\n            if (i !== 0) {\n                this.addSeparator(div, separator);\n            }\n            this.addComponent(entities[i], entities[i] !== entity);\n        }\n    }\n    addSeparator(div, separator) {\n        const separatorDiv = div.appendChild(document.createElement('div'));\n        separatorDiv.style.margin = \"0 5px\";\n        separatorDiv.innerText = separator;\n    }\n    addComponent(entity, link) {\n        this.addLink(`${entity === null || entity === void 0 ? void 0 : entity.Id}`, !link ? undefined : () => {\n            var _a;\n            (_a = this.engine) === null || _a === void 0 ? void 0 : _a.process(entity);\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport DivRenderer from './div-renderer';\nexport default class ContainerProcessor extends DivRenderer {\n    constructor(listProperty) {\n        super();\n        this.listProperty = listProperty;\n    }\n    getEntities(container) {\n        const listProp = container[this.listProperty];\n        return Array.isArray(listProp) ? listProp : [];\n    }\n    process(container, entity) {\n        const _super = Object.create(null, {\n            process: { get: () => super.process }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            yield _super.process.call(this, container, entity);\n            const containerEntity = entity;\n            containerEntity.isContainer = () => true;\n            containerEntity.getEntities = () => this.getEntities(container);\n            containerEntity.getActiveEntity = () => { var _a, _b; return (_a = containerEntity.getEntities) === null || _a === void 0 ? void 0 : _a.call(containerEntity)[(_b = entity.index) !== null && _b !== void 0 ? _b : -1]; };\n            containerEntity.setActiveEntity = (value) => { var _a, _b; return containerEntity.index = (_b = (_a = containerEntity.getEntities) === null || _a === void 0 ? void 0 : _a.call(containerEntity)) === null || _b === void 0 ? void 0 : _b.indexOf(value); };\n            containerEntity.getEntities().forEach(e => e.parent = entity);\n        });\n    }\n    render(auxiliary, entity) {\n        var _a;\n        this.div.innerText = \"\";\n        const containerEntity = entity;\n        (_a = containerEntity.getEntities) === null || _a === void 0 ? void 0 : _a.call(containerEntity).forEach(e => {\n            this.addLink(`${e === null || e === void 0 ? void 0 : e.Id}`, () => {\n                var _a, _b;\n                (_a = containerEntity.setActiveEntity) === null || _a === void 0 ? void 0 : _a.call(containerEntity, e);\n                (_b = this.engine) === null || _b === void 0 ? void 0 : _b.process(e);\n            });\n        });\n    }\n}\n","import ContainerProcessor from \"./base/container-processor\";\nexport default class WorkspaceProcessor extends ContainerProcessor {\n    constructor() {\n        super(\"apps\");\n    }\n}\n","import ContainerProcessor from \"./base/container-processor\";\nexport default class ApplicationProcessor extends ContainerProcessor {\n    constructor() {\n        super(\"scenes\");\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Processor from './base/processor';\nexport default class TitleProcessor extends Processor {\n    process(title) {\n        return __awaiter(this, void 0, void 0, function* () {\n            document.title = title;\n        });\n    }\n}\n","import DivRenderer from './base/div-renderer';\nexport default class MessageProcessor extends DivRenderer {\n    render(message, entity) {\n        const div = this.div;\n        div.style.position = \"absolute\";\n        div.style.left = \"0px\";\n        div.style.backgroundColor = \"silver\";\n        div.style.width = \"100%\";\n        div.style.padding = \"10px\";\n        div.style.margin = \"0px\";\n        div.style.opacity = \".8\";\n        div.textContent = `${message}`;\n    }\n}\n","import PropertyProcessor from '../processors/property-processor';\nimport BreadcrumbsProcessor from '../processors/breadcrumbs-processor';\nimport WorkspaceProcessor from '../processors/workspace-processor';\nimport ApplicationProcessor from '../processors/application-processor';\nimport TitleProcessor from '../processors/title-processor';\nimport MessageProcessor from '../processors/message-processor';\nexport default class Registration {\n    constructor(engine) {\n        this.registration = {};\n        this.engine = engine;\n        this.executeRegistration();\n    }\n    register(name, processor) {\n        this.registration[name] = processor;\n        processor.engine = this.engine;\n    }\n    getProcessor(name) {\n        return this.registration[name];\n    }\n    executeRegistration() {\n        this.register(\"Workspace\", new WorkspaceProcessor());\n        this.register(\"Application\", new ApplicationProcessor());\n        this.register(\"Title\", new TitleProcessor());\n        this.register(\"Message\", new MessageProcessor());\n        this.register(\"Id\", new PropertyProcessor(\"id\"));\n        this.register(\"Breadcrumbs\", new BreadcrumbsProcessor());\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Registration from './registration';\nconst AUX_REGEX = /^[A-Z]/;\nexport default class Engine {\n    constructor() {\n        this.registration = new Registration(this);\n    }\n    getEntries(entity) {\n        if (!entity) {\n            return [];\n        }\n        return Object.entries(entity)\n            .filter(([key]) => key.match(AUX_REGEX))\n            .sort(([key1], [key2]) => key1.localeCompare(key2))\n            .map(([name, auxiliary]) => ({\n            name,\n            auxiliary,\n            processor: this.registration.getProcessor(name),\n        }));\n    }\n    process(entity) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!entity) {\n                console.warn(\"No entity to process.\");\n                return;\n            }\n            for (const { processor } of this.getEntries(this.entity)) {\n                yield ((_a = processor === null || processor === void 0 ? void 0 : processor.onExit) === null || _a === void 0 ? void 0 : _a.call(processor));\n            }\n            this.entity = entity;\n            const entries = this.getEntries(entity);\n            for (const { name, processor } of entries) {\n                if (!processor) {\n                    console.warn(`No processor for auxiliary: ${name}`);\n                }\n            }\n            for (const { processor, auxiliary } of entries) {\n                yield (processor === null || processor === void 0 ? void 0 : processor.onCreate(auxiliary, entity));\n            }\n            for (const { processor, auxiliary } of entries) {\n                yield ((_b = processor === null || processor === void 0 ? void 0 : processor.process) === null || _b === void 0 ? void 0 : _b.call(processor, auxiliary, entity));\n            }\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Engine from './core/engine';\nimport { FileUtils } from 'dok-file-utils';\nconst rootPath = \"samples/hello-world.json\";\nfunction main() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const engine = new Engine();\n        const fileUtils = new FileUtils(XMLHttpRequest);\n        const helloWorld = yield fileUtils.load(rootPath, 'json');\n        yield engine.process(helloWorld);\n        globalThis.root = helloWorld;\n        globalThis.engine = engine;\n    });\n}\nconst exports = {\n    main,\n};\nexport default exports;\nglobalThis.exports = exports;\n"],"names":["module","exports","FileUtils","constructor","XMLHttpRequest","this","globalThis","fileStock","async","urls","Promise","all","map","load","url","responseType","resolve","reject","realResponseType","match","tag","join","data","loaded","onLoadListeners","push","req","progress","open","addEventListener","e","status","response","forEach","callback","Error","total","send","ImageLoader","preserve","Image","imageStock","loadImage","img","src","imageURL","URL","createObjectURL","revokeObjectURL","listeners","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","__awaiter","thisArg","_arguments","P","generator","fulfilled","value","step","next","rejected","result","done","then","apply","Processor","onCreate","auxiliary","entity","onExit","PropertyProcessor","name","super","process","property","Renderer","arguments","active","refresh","keepRendering","render","requestAnimationFrame","initiallyInactive","setActive","DivRenderer","div","document","createElement","body","appendChild","removeChild","addLink","text","action","line","style","color","textDecoration","cursor","innerText","BreadcrumbsProcessor","insertBefore","firstChild","separator","entities","parent","unshift","display","flexDirection","i","length","addSeparator","addComponent","separatorDiv","margin","link","Id","_a","engine","ContainerProcessor","listProperty","getEntities","container","listProp","Array","isArray","_super","Object","create","get","call","containerEntity","isContainer","getActiveEntity","_b","index","setActiveEntity","indexOf","WorkspaceProcessor","ApplicationProcessor","TitleProcessor","title","MessageProcessor","message","position","left","backgroundColor","width","padding","opacity","textContent","Registration","registration","executeRegistration","register","processor","getProcessor","AUX_REGEX","Engine","getEntries","entries","filter","key","sort","key1","key2","localeCompare","console","warn","main","fileUtils","helloWorld","root"],"sourceRoot":""}